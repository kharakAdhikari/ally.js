!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ally=e()}}(function(){return function o(a,u,l){function s(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=u[t]={exports:{}};a[t][0].call(r.exports,function(e){return s(a[t][1][e]||e)},r,r.exports,o,a,u,l)}return u[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,t,n){"use strict";var i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return e&&"object"===(void 0===e?"undefined":a(e))&&"default"in e?e.default:e}function v(e){if(!e)return[];if(Array.isArray(e))return e;if(void 0!==e.nodeType)return[e];if("string"==typeof e&&(e=document.querySelectorAll(e)),void 0!==e.length)return[].slice.call(e,0);throw new TypeError("unexpected input "+String(e))}function l(e){for(var t=(0<arguments.length&&void 0!==e?e:{}).context,n=g({label:"get/shadow-host",context:t}),i=null;n;)n=(i=n).parentNode;return i.nodeType===i.DOCUMENT_FRAGMENT_NODE&&i.host?i.host:null}function d(e){var t=g({label:"is/active-element",resolveDocument:!0,context:e});if(f(t).activeElement===t)return!0;var n=l({context:t});return!(!n||n.shadowRoot.activeElement!==t)}var s=u(e("platform")),c=u(e("css.escape")),g=function(e){var t=e.context,n=e.label,i=void 0===n?"context-to-element":n,r=e.resolveDocument,o=e.defaultToDocument,a=v(t)[0];if(r&&a&&a.nodeType===Node.DOCUMENT_NODE&&(a=a.documentElement),!a&&o)return document.documentElement;if(!a)throw new TypeError(i+" requires valid options.context");if(a.nodeType!==Node.ELEMENT_NODE&&a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw new TypeError(i+" requires options.context to be an Element");return a},f=function(e){return e?e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument||document:document},m=function(e){return f(e).defaultView||window},x=JSON.parse(JSON.stringify(s)),b=x.os.family||"",h="Android"===b,p="Windows"===b.slice(0,7),y="OS X"===b,w="iOS"===b,E="Blink"===x.layout,S="Gecko"===x.layout,T="Trident"===x.layout,A="EdgeHTML"===x.layout,O="WebKit"===x.layout,C=parseFloat(x.version),I=Math.floor(C);x.majorVersion=I,x.is={ANDROID:h,WINDOWS:p,OSX:y,IOS:w,BLINK:E,GECKO:S,TRIDENT:T,EDGE:A,WEBKIT:O,IE9:T&&9===I,IE10:T&&10===I,IE11:T&&11===I};function N(t){var e,n=function(){var e={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},t=document.createElement("iframe");t.setAttribute("style","position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;"),t.setAttribute("aria-live","off"),t.setAttribute("aria-busy","true"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t);var n=t.contentWindow,i=n.document;i.open(),i.close();var r=i.createElement("div");return i.body.appendChild(r),e.iframe=t,e.wrapper=r,e.window=n,e.document=i,e}(),i={};return Object.keys(t).map(function(e){i[e]=function(e,t){e.wrapper.innerHTML="";var n="string"==typeof t.element?e.document.createElement(t.element):t.element(e.wrapper,e.document),i=t.mutate&&t.mutate(n,e.wrapper,e.document);return i||!1===i||(i=n),n.parentNode||e.wrapper.appendChild(n),i&&i.focus&&i.focus(),t.validate?t.validate(n,i,e.document):e.document.activeElement===i}(n,t[e])}),(e=n).activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),x.is.IE10&&document.body.focus()):e.activeElement&&e.activeElement.focus&&e.activeElement.focus(),document.body.removeChild(e.iframe),window.scrollTop=e.windowScrollTop,window.scrollLeft=e.windowScrollLeft,document.body.scrollTop=e.bodyScrollTop,document.body.scrollLeft=e.bodyScrollLeft,i}var L="1.4.1";var M="undefined"!=typeof window&&window.navigator.userAgent||"",k="ally-supports-cache",_=function(e){var t=void 0;try{t=(t=window.localStorage&&window.localStorage.getItem(e))?JSON.parse(t):{}}catch(e){t={}}return t}(k);_.userAgent===M&&_.version===L||(_={}),_.userAgent=M,_.version=L;function P(){var t=void 0;try{document.querySelector("html >>> :first-child"),t=">>>"}catch(e){try{document.querySelector("html /deep/ :first-child"),t="/deep/"}catch(e){t=""}}return t}var F=function(){return _},D=function(t){Object.keys(t).forEach(function(e){_[e]=t[e]}),_.time=(new Date).toISOString(),function(e,t){if(document.hasFocus())try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}else try{window.localStorage&&window.localStorage.removeItem(e)}catch(e){}}(k,_)},B="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",R={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+B+'">',e.querySelector("area")}},W={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+B+'">',!1},validate:function(e,t,n){if(x.is.GECKO)return!0;var i=e.querySelector("area");return i.focus(),n.activeElement===i}},H={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+B+'">',e.querySelector("area")},validate:function(e,t,n){return!!x.is.GECKO||n.activeElement===t}},j={name:"can-focus-audio-without-controls",element:"audio",mutate:function(e){try{e.setAttribute("src",B)}catch(e){}}},q={element:"div",mutate:function(e){return e.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ">',e.querySelector("area")}},G={element:"a",mutate:function(e){return e.href="#void",e.innerHTML='<img ismap src="'+B+'" alt="">',e.querySelector("img")}},K={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+B+'">',e.querySelector("img")}},V=!x.is.WEBKIT,Z="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==",$={element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",Z),e.setAttribute("width","200"),e.setAttribute("height","50"),e.style.visibility="hidden"}},U={name:"can-focus-object-svg",element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",Z),e.setAttribute("width","200"),e.setAttribute("height","50")},validate:function(e,t,n){return!!x.is.GECKO||n.activeElement===e}},X=!x.is.IE9,z={element:"div",mutate:function(e){return e.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+B+'">',e.querySelector("img")},validate:function(e,t,n){var i=e.querySelector("area");return n.activeElement===i}};var J=function(e){if(!(e.ownerSVGElement||"svg"===e.nodeName.toLowerCase()))return!1;var t,n=((t=document.createElement("div")).innerHTML='<svg><foreignObject width="30" height="30">\n      <input type="text"/>\n  </foreignObject></svg>',t.firstChild.firstChild);e.appendChild(n);var i=n.querySelector("input");return i.focus(),i.disabled=!0,e.removeChild(n),!0};function Q(e){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>"}function Y(e,t,n){return function(t){if(!t.focus)try{HTMLElement.prototype.focus.call(t)}catch(e){J(t)}}(t),n.activeElement===t}var ee={element:"div",mutate:function(e){return e.innerHTML=Q('<text focusable="true">a</text>'),e.querySelector("text")},validate:Y},te={element:"div",mutate:function(e){return e.innerHTML=Q('<text tabindex="0">a</text>'),e.querySelector("text")},validate:Y},ne={element:"div",mutate:function(e){return e.innerHTML=Q('<text tabindex="-1">a</text>'),e.querySelector("text")},validate:Y},ie={element:"div",mutate:function(e){return e.innerHTML=Q(['<g id="ally-test-target"><a xlink:href="#void"><text>link</text></a></g>','<use xlink:href="#ally-test-target" x="0" y="0" tabindex="-1" />'].join("")),e.querySelector("use")},validate:Y},re={element:"div",mutate:function(e){return e.innerHTML=Q('<foreignObject tabindex="-1"><input type="text" /></foreignObject>'),e.querySelector("foreignObject")||e.getElementsByTagName("foreignObject")[0]},validate:Y},oe=Boolean(x.is.GECKO&&"undefined"!=typeof SVGElement&&SVGElement.prototype.focus),ae={element:"div",mutate:function(e){return e.innerHTML=Q(""),e.firstChild},validate:Y},ue={element:"video",mutate:function(e){try{e.setAttribute("src",B)}catch(e){}}},le=x.is.GECKO||x.is.TRIDENT||x.is.EDGE,se={cssShadowPiercingDeepCombinator:P,focusInZeroDimensionObject:function(){return V},focusObjectSwf:function(){return X},focusSvgInIframe:function(){return oe},tabsequenceAreaAtImgPosition:function(){return le}},ce={focusAreaImgTabindex:R,focusAreaTabindex:W,focusAreaWithoutHref:H,focusAudioWithoutControls:j,focusBrokenImageMap:q,focusChildrenOfFocusableFlexbox:{element:"div",mutate:function(e){return e.setAttribute("tabindex","-1"),e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>',e.querySelector("span")}},focusFieldsetDisabled:{element:"fieldset",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusFieldset:{element:"fieldset",mutate:function(e){e.innerHTML="<legend>legend</legend><p>content</p>"}},focusFlexboxContainer:{element:"span",mutate:function(e){e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>'}},focusFormDisabled:{element:"form",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusImgIsmap:G,focusImgUsemapTabindex:K,focusInHiddenIframe:{element:function(e,t){var n=t.createElement("iframe");e.appendChild(n);var i=n.contentWindow.document;return i.open(),i.close(),n},mutate:function(e){e.style.visibility="hidden";var t=e.contentWindow.document,n=t.createElement("input");return t.body.appendChild(n),n},validate:function(e){var t=e.contentWindow.document,n=t.querySelector("input");return t.activeElement===n}},focusInvalidTabindex:{element:"div",mutate:function(e){e.setAttribute("tabindex","invalid-value")}},focusLabelTabindex:{element:"label",mutate:function(e){e.setAttribute("tabindex","-1")},validate:function(e,t,n){e.offsetHeight;return e.focus(),n.activeElement===e}},focusObjectSvg:U,focusObjectSvgHidden:$,focusRedirectImgUsemap:z,focusRedirectLegend:{element:"fieldset",mutate:function(e){return!(e.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">')},validate:function(e,t,n){var i=e.querySelector('input[tabindex="-1"]'),r=e.querySelector('input[tabindex="0"]');return e.focus(),e.querySelector("legend").focus(),(n.activeElement===i?"focusable":n.activeElement===r&&"tabbable")||""}},focusScrollBody:{element:"div",mutate:function(e){return e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',e.querySelector("div")}},focusScrollContainerWithoutOverflow:{element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusScrollContainer:{element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusSummary:{element:"details",mutate:function(e){return e.innerHTML="<summary>foo</summary><p>content</p>",e.firstElementChild}},focusSvgFocusableAttribute:ee,focusSvgTabindexAttribute:te,focusSvgNegativeTabindexAttribute:ne,focusSvgUseTabindex:ie,focusSvgForeignobjectTabindex:re,focusSvg:ae,focusTabindexTrailingCharacters:{element:"div",mutate:function(e){e.setAttribute("tabindex","3x")}},focusTable:{element:"table",mutate:function(e,t,n){var i=n.createDocumentFragment();i.innerHTML="<tr><td>cell</td></tr>",e.appendChild(i)}},focusVideoWithoutControls:ue};function de(){return ve||((ve=F()).time||(D((t=N(ce),Object.keys(se).forEach(function(e){t[e]=se[e]()}),t)),ve=F()),ve);var t}function fe(e){var t=(he=he||de()).focusTabindexTrailingCharacters?ge:pe,n=g({label:"is/valid-tabindex",resolveDocument:!0,context:e}),i=n.hasAttribute("tabindex"),r=n.hasAttribute("tabIndex");if(!i&&!r)return!1;if((n.ownerSVGElement||"svg"===n.nodeName.toLowerCase())&&!he.focusSvgTabindexAttribute)return!1;if(he.focusInvalidTabindex)return!0;var o=n.getAttribute(i?"tabindex":"tabIndex");return"-32768"!==o&&Boolean(o&&t.test(o))}function me(e){ye||((ye=de()).focusFieldsetDisabled&&delete Ee.fieldset,ye.focusFormDisabled&&delete Ee.form,we=new RegExp("^("+Object.keys(Ee).join("|")+")$"));var t=g({label:"is/native-disabled-supported",context:e}).nodeName.toLowerCase();return Boolean(we.test(t))}function be(){}var ve=null,he=void 0,pe=/^\s*(-|\+)?[0-9]+\s*$/,ge=/^\s*(-|\+)?[0-9]+.*$/,xe=function(e){if(!fe(e))return null;var t=e.hasAttribute("tabindex")?"tabindex":"tabIndex",n=parseInt(e.getAttribute(t),10);return isNaN(n)?-1:n},ye=void 0,we=void 0,Ee={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0},Se=function(e){var t=e.element,n=e.attribute,i="data-cached-"+n;if(null===t.getAttribute(i)){var r=t.getAttribute(n);if(null===r)return;t.setAttribute(i,r||""),t.removeAttribute(n)}else{var o=t.getAttribute(i);t.removeAttribute(i),t.setAttribute(n,o)}},Te=function(e){var t=e.element,n=e.attribute,i=e.temporaryValue,r=e.saveValue,o="data-cached-"+n;if(void 0!==i){var a=r||t.getAttribute(n);t.setAttribute(o,a||""),t.setAttribute(n,i)}else{var u=t.getAttribute(o);t.removeAttribute(o),""===u?t.removeAttribute(n):t.setAttribute(n,u)}},Ae="undefined"!=typeof console?console:{log:be,debug:be,info:be,warn:be,error:be},Oe=void 0;function Ce(){Ae.warn("trying to focus inert element",this)}function Ie(e,t){var n;Te({element:e,attribute:"aria-disabled",temporaryValue:t?"true":void 0}),function(e,t){if(t){var n=xe(e);Te({element:e,attribute:"tabindex",temporaryValue:"-1",saveValue:null!==n?n:""})}else Te({element:e,attribute:"tabindex"})}(e,t),n=e,t?n.focus=Ce:delete n.focus,function(e,t){if(t){var n=e.style.pointerEvents||"";e.setAttribute("data-inert-pointer-events",n),e.style.pointerEvents="none"}else{var i=e.getAttribute("data-inert-pointer-events");e.removeAttribute("data-inert-pointer-events"),e.style.pointerEvents=i}}(e,t);var i=e.nodeName.toLowerCase();"video"!==i&&"audio"!==i||Se({element:e,attribute:"controls",remove:t}),"svg"!==i&&!e.ownerSVGElement||(Oe.focusSvgFocusableAttribute?Te({element:e,attribute:"focusable",temporaryValue:t?"false":void 0}):Oe.focusSvgTabindexAttribute||"a"!==i||Se({element:e,attribute:"xlink:href",remove:t})),t?e.setAttribute("data-ally-disabled","true"):e.removeAttribute("data-ally-disabled")}function Ne(e,t){Oe=Oe||de();var n=g({label:"element/disabled",context:e});t=Boolean(t);var i=n.hasAttribute("data-ally-disabled"),r=1===arguments.length;return me(n)?r?n.disabled:(n.disabled=t,n):r?i:(i===t||Ie(n,t),n)}var Le=function(e){for(var t=(0<arguments.length&&void 0!==e?e:{}).context,n=[],i=g({label:"get/parents",context:t});i;)n.push(i),(i=i.parentNode)&&i.nodeType!==Node.ELEMENT_NODE&&(i=null);return n},Me=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],ke=null;function _e(e,t){var n;return ke||(n=e,Me.some(function(e){return!!n[e]&&(ke=e,!0)})),e[ke](t)}function Pe(e){var t=e.webkitUserModify||"";return Boolean(t&&-1!==t.indexOf("write"))}function Fe(e){return[e.getPropertyValue("overflow"),e.getPropertyValue("overflow-x"),e.getPropertyValue("overflow-y")].some(function(e){return"auto"===e||"scroll"===e})}function De(e){return-1<e.display.indexOf("flex")}function Be(e,t,n,i){return!("div"!==t&&"span"!==t||n&&"div"!==n&&"span"!==n&&!Fe(i))&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)}var Re=void 0;function We(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,i=void 0===n?{flexbox:!1,scrollable:!1,shadow:!1}:n;Re=Re||de();var r=g({label:"is/focus-relevant",resolveDocument:!0,context:t});if(!i.shadow&&r.shadowRoot)return!0;var o=r.nodeName.toLowerCase();if("input"===o&&"hidden"===r.type)return!1;if("input"===o||"select"===o||"button"===o||"textarea"===o)return!0;if("legend"===o&&Re.focusRedirectLegend)return!0;if("label"===o)return!0;if("area"===o)return!0;if("a"===o&&r.hasAttribute("href"))return!0;if("object"===o&&r.hasAttribute("usemap"))return!1;if("object"===o){var a=r.getAttribute("type");if(!Re.focusObjectSvg&&"image/svg+xml"===a)return!1;if(!Re.focusObjectSwf&&"application/x-shockwave-flash"===a)return!1}if("iframe"===o||"object"===o)return!0;if("embed"===o||"keygen"===o)return!0;if(r.hasAttribute("contenteditable"))return!0;if("audio"===o&&(Re.focusAudioWithoutControls||r.hasAttribute("controls")))return!0;if("video"===o&&(Re.focusVideoWithoutControls||r.hasAttribute("controls")))return!0;if(Re.focusSummary&&"summary"===o)return!0;var u=fe(r);if("img"===o&&r.hasAttribute("usemap"))return u&&Re.focusImgUsemapTabindex||Re.focusRedirectImgUsemap;if(Re.focusTable&&("table"===o||"td"===o))return!0;if(Re.focusFieldset&&"fieldset"===o)return!0;var l="svg"===o,s=r.ownerSVGElement,c=r.getAttribute("focusable"),d=xe(r);if("use"===o&&null!==d&&!Re.focusSvgUseTabindex)return!1;if("foreignobject"===o)return null!==d&&Re.focusSvgForeignobjectTabindex;if(_e(r,"svg a")&&r.hasAttribute("xlink:href"))return!0;if((l||s)&&r.focus&&!Re.focusSvgNegativeTabindexAttribute&&d<0)return!1;if(l)return u||Re.focusSvg||Re.focusSvgInIframe||Boolean(Re.focusSvgFocusableAttribute&&c&&"true"===c);if(s){if(Re.focusSvgTabindexAttribute&&u)return!0;if(Re.focusSvgFocusableAttribute)return"true"===c}if(u)return!0;var f=window.getComputedStyle(r,null);if(Pe(f))return!0;if(Re.focusImgIsmap&&"img"===o&&r.hasAttribute("ismap")&&Le({context:r}).some(function(e){return"a"===e.nodeName.toLowerCase()&&e.hasAttribute("href")}))return!0;if(!i.scrollable&&Re.focusScrollContainer)if(Re.focusScrollContainerWithoutOverflow){if(Be(r,o))return!0}else if(Fe(f))return!0;if(!i.flexbox&&Re.focusFlexboxContainer&&De(f))return!0;var m=r.parentElement;if(!i.scrollable&&m){var b=m.nodeName.toLowerCase(),v=window.getComputedStyle(m,null);if(Re.focusScrollBody&&Be(m,o,b,v))return!0;if(Re.focusChildrenOfFocusableFlexbox&&De(v))return!0}return!1}We.except=function(){function e(e){return We({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=We,e};var He=We.except({});function je(e,t){if(e.findIndex)return e.findIndex(t);var n=e.length;if(0===n)return-1;for(var i=0;i<n;i++)if(t(e[i],i,e))return i;return-1}var qe=function(e){try{return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.getSVGDocument&&e.getSVGDocument()||null}catch(e){return null}},Ge=void 0,Ke=function(e){if("string"!=typeof Ge){var t=P();t&&(Ge=", html "+t+" ")}return Ge?e+Ge+e.replace(/\s*,\s*/g,",").split(",").join(Ge):e},Ve=void 0;function Ze(e){var t=m(e);if(!t.parent||t.parent===t)return null;try{return t.frameElement||function(t){if(Ve=Ve||Ke("object, iframe"),void 0!==t._frameElement)return t._frameElement;t._frameElement=null;var e=t.parent.document.querySelectorAll(Ve);return[].some.call(e,function(e){return qe(e)===t.document&&(t._frameElement=e,!0)}),t._frameElement}(t)}catch(e){return null}}var $e=/^(area)$/;function Ue(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function Xe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,i=void 0===n?{notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}:n,r=g({label:"is/visible",resolveDocument:!0,context:t}),o=r.nodeName.toLowerCase();if(!i.notRendered&&$e.test(o))return!0;var a,u,l=Le({context:r}),s="audio"===o&&!r.hasAttribute("controls");if(!i.cssDisplay&&(s?l.slice(1):l).some(function(e){return"none"===Ue(e,"display")}))return!1;if(!i.cssVisibility&&function(e){var t=je(e,function(e){var t=Ue(e,"visibility");return"hidden"===t||"collapse"===t});if(-1!==t){var n=je(e,function(e){return"visible"===Ue(e,"visibility")});return-1===n||t<n}}(l))return!1;if(!i.detailsElement&&(u=1,"summary"===(a=l)[0].nodeName.toLowerCase()&&(u=2),a.slice(u).some(function(e){return"details"===e.nodeName.toLowerCase()&&!1===e.open})))return!1;if(!i.browsingContext){var c=Ze(r),d=Xe.except(i);if(c&&!d(c))return!1}return!0}Xe.except=function(){function e(e){return Xe({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=Xe,e};var ze=Xe.except({});function Je(e,t){return t.querySelector('map[name="'+c(e)+'"]')||null}function Qe(e){var t=e.parentElement;return t.name&&"map"===t.nodeName.toLowerCase()&&f(e).querySelector('img[usemap="#'+c(t.name)+'"]')||null}var Ye=void 0,et=function(e){Ye=Ye||de();var t=g({label:"is/valid-area",context:e});if("area"!==t.nodeName.toLowerCase())return!1;var n=t.hasAttribute("tabindex");if(!Ye.focusAreaTabindex&&n)return!1;var i=Qe(t);return!(!i||!ze(i))&&(!(!Ye.focusBrokenImageMap&&(!i.complete||!i.naturalHeight||i.offsetWidth<=0||i.offsetHeight<=0))&&(Ye.focusAreaWithoutHref||t.href?!Le({context:i}).slice(1).some(function(e){var t=e.nodeName.toLowerCase();return"button"===t||"a"===t}):Ye.focusAreaTabindex&&n||Ye.focusAreaImgTabindex&&i.hasAttribute("tabindex")))},tt=void 0;function nt(e){return"fieldset"===e.nodeName.toLowerCase()&&e.disabled}function it(e){return"form"===e.nodeName.toLowerCase()&&e.disabled}function rt(e){tt=tt||de();var t=g({label:"is/disabled",context:e});if(t.hasAttribute("data-ally-disabled"))return!0;if(!me(t))return!1;if(t.disabled)return!0;var n=Le({context:t});return!!n.some(nt)||!(tt.focusFormDisabled||!n.some(it))}function ot(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,i=void 0===n?{onlyFocusableBrowsingContext:!1,visible:!1}:n,r=g({label:"is/only-tabbable",resolveDocument:!0,context:t});if(!i.visible&&!ze(r))return!1;if(!i.onlyFocusableBrowsingContext&&(x.is.GECKO||x.is.TRIDENT||x.is.EDGE)){var o=Ze(r);if(o&&xe(o)<0)return!1}var a=r.nodeName.toLowerCase(),u=xe(r);return"label"===a&&x.is.GECKO?null!==u&&0<=u:!!(x.is.GECKO&&r.ownerSVGElement&&!r.focus&&"a"===a&&r.hasAttribute("xlink:href")&&x.is.GECKO)}ot.except=function(){function e(e){return ot({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=ot,e};var at=ot.except({}),ut=void 0;function lt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,i=void 0===n?{disabled:!1,visible:!1,onlyTabbable:!1}:n;ut=ut||de();var r=at.rules.except({onlyFocusableBrowsingContext:!0,visible:i.visible}),o=g({label:"is/focusable",resolveDocument:!0,context:t});if(!He.rules({context:o,except:i})||function(e){var t=e.nodeName.toLowerCase();if("embed"===t||"keygen"===t)return 1;var n=xe(e);if(e.shadowRoot&&null===n)return 1;if("label"===t)return!ut.focusLabelTabindex||null===n;if("legend"===t)return null===n;if(!ut.focusSvgFocusableAttribute||!e.ownerSVGElement&&"svg"!==t)return"img"===t&&e.hasAttribute("usemap")?null===n||!ut.focusImgUsemapTabindex:"area"===t&&!et(e);var i=e.getAttribute("focusable");return i&&"false"===i}(o))return!1;if(!i.disabled&&rt(o))return!1;if(!i.onlyTabbable&&r(o))return!1;if(!i.visible){var a={context:o,except:{}};if(ut.focusInHiddenIframe&&(a.except.browsingContext=!0),ut.focusObjectSvgHidden)"object"===o.nodeName.toLowerCase()&&(a.except.cssVisibility=!0);if(!ze.rules(a))return!1}var u=Ze(o);if(u&&!("object"!==u.nodeName.toLowerCase()||ut.focusInZeroDimensionObject||u.offsetWidth&&u.offsetHeight))return!1;return!("svg"===o.nodeName.toLowerCase()&&ut.focusSvgInIframe&&!u&&null===o.getAttribute("tabindex"))}lt.except=function(){function e(e){return lt({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=lt,e};var st=lt.except({});function ct(t){function e(e){return e.shadowRoot||t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return e.acceptNode=e}var dt=ct(He);var ft=void 0,mt=void 0;function bt(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.includeContext,r=t.includeOnlyTabbable,o=(ft=ft||de(),"string"==typeof mt?mt:(mt=(ft.focusTable?"table, td,":"")+(ft.focusFieldset?"fieldset,":"")+"svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,"+(ft.focusAudioWithoutControls?"audio,":"audio[controls],")+(ft.focusVideoWithoutControls?"video,":"video[controls],")+(ft.focusSummary?"summary,":"")+"[tabindex],[contenteditable]",mt=Ke(mt))),a=n.querySelectorAll(o),u=st.rules.except({onlyTabbable:r}),l=[].filter.call(a,u);return i&&u(n)&&l.unshift(n),l}var vt=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.includeContext,r=t.includeOnlyTabbable,o=t.strategy,a=void 0===o?"quick":o,u={context:g({label:"query/focusable",resolveDocument:!0,defaultToDocument:!0,context:n}),includeContext:i,includeOnlyTabbable:r,strategy:a};if("quick"===a)return bt(u);if("strict"===a||"all"===a)return function e(t){var n=0<arguments.length&&void 0!==t?t:{},i=n.context,r=n.includeContext,o=n.includeOnlyTabbable,a=n.strategy;i=i||document.documentElement;for(var u=st.rules.except({onlyTabbable:o}),l=f(i).createTreeWalker(i,NodeFilter.SHOW_ELEMENT,"all"===a?dt:ct(u),!1),s=[];l.nextNode();)l.currentNode.shadowRoot?(u(l.currentNode)&&s.push(l.currentNode),s=s.concat(e({context:l.currentNode.shadowRoot,includeOnlyTabbable:o,strategy:a}))):s.push(l.currentNode);return r&&("all"===a?He(i)&&s.unshift(i):u(i)&&s.unshift(i)),s}(u);throw new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]')},ht=void 0,pt=/^(fieldset|table|td|body)$/;function gt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,i=void 0===n?{flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}:n;ht=ht||de();var r=g({label:"is/tabbable",resolveDocument:!0,context:t});if(x.is.BLINK&&x.is.ANDROID&&42<x.majorVersion)return!1;var o=Ze(r);if(o){if(x.is.WEBKIT&&x.is.IOS)return!1;if(xe(o)<0)return!1;if(!i.visible&&(x.is.BLINK||x.is.WEBKIT)&&!ze(o))return!1;if("object"===o.nodeName.toLowerCase()){var a="Chrome"===x.name&&54<=x.majorVersion||"Opera"===x.name&&41<=x.majorVersion;if(x.is.WEBKIT||x.is.BLINK&&!a)return!1}}var u=r.nodeName.toLowerCase(),l=xe(r),s=null===l?null:0<=l;if(x.is.EDGE&&14<=x.majorVersion&&o&&r.ownerSVGElement&&l<0)return!0;var c=!1!==s,d=null!==l&&0<=l;if(r.hasAttribute("contenteditable"))return c;if(pt.test(u)&&!0!==s)return!1;if(x.is.WEBKIT&&x.is.IOS){var f="input"===u&&"text"===r.type||"password"===r.type||"select"===u||"textarea"===u||r.hasAttribute("contenteditable");if(!f)f=Pe(window.getComputedStyle(r,null));if(!f)return!1}if("use"===u&&null!==l&&(x.is.BLINK||x.is.WEBKIT&&9===x.majorVersion))return!0;if(_e(r,"svg a")&&r.hasAttribute("xlink:href")){if(c)return!0;if(r.focus&&!ht.focusSvgNegativeTabindexAttribute)return!0}if("svg"===u&&ht.focusSvgInIframe&&c)return!0;if(x.is.TRIDENT||x.is.EDGE){if("svg"===u)return!!ht.focusSvg||(r.hasAttribute("focusable")||d);if(r.ownerSVGElement)return!(!ht.focusSvgTabindexAttribute||!d)||r.hasAttribute("focusable")}if(void 0===r.tabIndex)return Boolean(i.onlyTabbable);if("audio"===u){if(!r.hasAttribute("controls"))return!1;if(x.is.BLINK)return!0}if("video"===u)if(r.hasAttribute("controls")){if(x.is.BLINK||x.is.GECKO)return!0}else if(x.is.TRIDENT||x.is.EDGE)return!1;if("object"===u&&(x.is.BLINK||x.is.WEBKIT))return!1;if("iframe"===u)return!1;if(!i.scrollable&&x.is.GECKO&&Fe(window.getComputedStyle(r,null)))return c;if(x.is.TRIDENT||x.is.EDGE){if("area"===u){var m=Qe(r);if(m&&xe(m)<0)return!1}var b=window.getComputedStyle(r,null);if(Pe(b))return 0<=r.tabIndex;if(!i.flexbox&&De(b))return null!==l?d:xt(r)&&yt(r);if(Be(r,u))return!1;var v=r.parentElement;if(v){var h=v.nodeName.toLowerCase(),p=window.getComputedStyle(v,null);if(Be(v,u,h,p))return!1;if(De(p))return d}}return 0<=r.tabIndex}gt.except=function(){function e(e){return gt({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=gt,e};var xt=He.rules.except({flexbox:!0}),yt=gt.except({flexbox:!0}),wt=gt.except({}),Et=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.includeContext,r=t.includeOnlyTabbable,o=t.strategy,a=wt.rules.except({onlyTabbable:r});return vt({context:n,includeContext:i,includeOnlyTabbable:r,strategy:o}).filter(a)};function St(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function Tt(o,e,a){var u=[];return e.forEach(function(e){var t,n=!0,i=o.indexOf(e);-1===i&&(t=e,i=je(o,function(e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}),n=!1),-1===i&&(i=o.length);var r=v(a?a(e):e);r.length&&u.push({offset:i,replace:n,elements:r})}),u}var At=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.list,i=t.elements,r=t.resolveElement,o=n.slice(0),a=v(i).slice(0);a.sort(St);var u,l,s,c=Tt(o,a,r);return u=o,s=0,(l=c).sort(function(e,t){return e.offset-t.offset}),l.forEach(function(e){var t=e.replace?1:0,n=[e.offset+s,t].concat(e.elements);u.splice.apply(u,n),s+=e.elements.length-t}),o},Ot=void 0;function Ct(e){var t=e.nodeName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||"button"===t}function It(e,t){return Ot.focusRedirectLegend?"fieldset"!==e.parentNode.nodeName.toLowerCase()?null:"tabbable"===Ot.focusRedirectLegend?function(e,t){var n=Et({context:t.body,strategy:"strict"});if(!n.length)return null;var i=At({list:n,elements:[e]}),r=i.indexOf(e);return r===i.length-1?null:i[r+1]}(e,t):(n=e.parentNode,vt({context:n,strategy:"strict"}).filter(Ct)[0]||null):null;var n}function Nt(e){if(!Ot.focusRedirectImgUsemap)return null;var t=function(e){var t=e.getAttribute("usemap");if(!t)return null;var n=f(e);return Je(t.slice(1),n)}(e);return t&&t.querySelector("area")||null}function Lt(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.skipFocusable;Ot=Ot||de();var r=g({label:"get/focus-redirect-target",context:n});if(!i&&st(r))return null;var o,a,u,l=r.nodeName.toLowerCase(),s=f(r);return"label"===l?(a=s,(u=(o=r).getAttribute("for"))?a.getElementById(u):o.querySelector("input, select, textarea")):"legend"===l?It(r,s):"img"===l?Nt(r):null}function Mt(e){function t(e){return st.rules({context:e,except:r})?(a=e,!0):(a=Lt({context:e,skipFocusable:!0}),Boolean(a))}var n=0<arguments.length&&void 0!==e?e:{},i=n.context,r=n.except,o=g({label:"get/focus-target",context:i}),a=null;return t(o)||Le({context:o}).slice(1).some(t),a}var kt={flexbox:!0,scrollable:!0,onlyTabbable:!0},_t={blur:function(e){var t=g({label:"element/blur",context:e});if(!d(t))return null;if("body"===t.nodeName.toLowerCase())return null;if(t.blur)return t.blur(),document.activeElement;var n=m(t);try{n.HTMLElement.prototype.blur.call(t)}catch(e){var i=n.document&&n.document.body;if(!i)return null;var r=i.getAttribute("tabindex");i.setAttribute("tabindex","-1"),i.focus(),r?i.setAttribute("tabindex",r):i.removeAttribute("tabindex")}return n.document.activeElement},disabled:Ne,focus:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=n.defaultToAncestor,r=n.undoScrolling,o=g({label:"element/focus",context:e}),a=st.rules({context:o,except:kt});if(!i&&!a)return null;var u=Mt({context:o,except:kt});if(!u)return null;if(d(u))return u;var l,s=void 0;r&&(l=Le({context:u}).slice(1).map(function(e){return{element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}}),s=function(){l.forEach(function(e){e.element.scrollTop=e.scrollTop,e.element.scrollLeft=e.scrollLeft})});var c=function(t){if(t.focus)return t.focus(),d(t)?t:null;var e=m(t);try{return e.HTMLElement.prototype.focus.call(t),d(t)?t:null}catch(e){return J(t)&&d(t)?t:null}}(u);return s&&s(),c}};"undefined"!=typeof window&&function(){for(var r=0,e=["ms","moz","webkit","o"],t="",n="",i=0,o=e.length;i<o;++i)t=window[e[i]+"RequestAnimationFrame"],n=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];"function"!=typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window[t]||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),i=window.setTimeout(function(){e(t+n)},n);return r=t+n,i}),"function"!=typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame=window[n]||function(e){clearTimeout(e)})}();var Pt="undefined"!=typeof window&&window.CustomEvent||function(){};"function"!=typeof Pt&&((Pt=function(e,t){var n=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype);var Ft=Pt;function Dt(){}function Bt(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.engage,i=t.disengage;return function(){return this.instances?this.instances++:(this.instances++,this._result=this.engage()||{},this._result.disengage=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).force?this.instances=0:this.instances--,this.instances||(this.disengage(),this._result=null)}.bind(this)),this._result}.bind({engage:n||Dt,disengage:i||Dt,instances:0,_result:null})}var Rt=void 0,Wt=void 0;function Ht(){if(document.activeElement){if(document.activeElement!==Rt){var e=new Ft("active-element",{bubbles:!1,cancelable:!1,detail:{focus:document.activeElement,blur:Rt}});document.dispatchEvent(e),Rt=document.activeElement}}else document.body.focus();!1!==Wt&&(Wt=requestAnimationFrame(Ht))}function jt(e){var t=g({label:"is/shadowed",resolveDocument:!0,context:e});return Boolean(l({context:t}))}function qt(e){for(var t=(0<arguments.length&&void 0!==e?e:{}).context,n=[],i=g({label:"get/shadow-host-parents",context:t});i=i&&l({context:i});)n.push(i);return n}var Gt=Bt({engage:function(){Wt=!0,Rt=document.activeElement,Ht()},disengage:function(){cancelAnimationFrame(Wt),Wt=!1}});var Kt=function(){return null===document.activeElement&&document.body.focus(),jt(document.activeElement)?(e=qt({context:document.activeElement}),[document.activeElement].concat(e)):function(){for(var e=[document.activeElement];e[0]&&e[0].shadowRoot;)e.unshift(e[0].shadowRoot.activeElement);return e}();var e},Vt=void 0,Zt=void 0;if("undefined"!=typeof document&&document.documentElement.createShadowRoot){var $t=void 0,Ut=void 0,Xt=function(){zt(),(window.clearImmediate||window.clearTimeout)($t),$t=(window.setImmediate||window.setTimeout)(function(){Jt()})},zt=function(){Ut&&Ut.removeEventListener("blur",Xt,!0),Ut=null},Jt=function(){var e=Kt();if(1!==e.length){var t;(t=e[0]).addEventListener("blur",Xt,!0),Ut=t;var n=new CustomEvent("shadow-focus",{bubbles:!1,cancelable:!1,detail:{elements:e,active:e[0],hosts:e.slice(1)}});document.dispatchEvent(n)}else zt()},Qt=function(){(window.clearImmediate||window.clearTimeout)($t),Jt()};Vt=function(){document.addEventListener("focus",Qt,!0)},Zt=function(){(window.clearImmediate||window.clearTimeout)($t),Ut&&Ut.removeEventListener("blur",Xt,!0),document.removeEventListener("focus",Qt,!0)}}else Vt=Zt=function(){};var Yt=Bt({engage:Vt,disengage:Zt}),en={activeElement:Gt,shadowFocus:Yt};function tn(){}function nn(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.engage,i=t.disengage;return function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context;return this.context=v(e||document),this.context.forEach(this.engage),{disengage:function(){this.context&&(this.context.forEach(this.disengage),this.context=null,this.engage=null,this.disengage=null)}.bind(this)}}.bind({engage:n||tn,disengage:i||tn,context:null})}var rn=void 0,on=void 0;if(x.is.TRIDENT&&(x.is.IE10||x.is.IE11)){var an=function(e){var t=Mt({context:e.target,except:{flexbox:!0,scrollable:!0}});if(t&&t!==e.target){window.setImmediate(function(){t.focus()});var n=[].map.call(t.children,function(e){var t=e.style.visibility||"",n=e.style.transition||"";return e.style.visibility="hidden",e.style.transition="none",[e,t,n]});window.setImmediate(function(){n.forEach(function(e){e[0].style.visibility=e[1],e[0].style.transition=e[2]})})}};rn=function(e){e.addEventListener("mousedown",an,!0)},on=function(e){e.removeEventListener("mousedown",an,!0)}}else rn=function(){};var un=nn({engage:rn,disengage:on}),ln=void 0,sn=void 0;if(x.is.OSX&&(x.is.GECKO||x.is.WEBKIT)){var cn=function(e){if(!e.defaultPrevented&&_e(e.target,"input, button, button *")){var t=Mt({context:e.target});(window.setImmediate||window.setTimeout)(function(){t.focus()})}},dn=function(e){if(!e.defaultPrevented&&_e(e.target,"label, label *")){var t=Mt({context:e.target});t&&t.focus()}};ln=function(e){e.addEventListener("mousedown",cn,!1),e.addEventListener("mouseup",dn,!1)},sn=function(e){e.removeEventListener("mousedown",cn,!1),e.removeEventListener("mouseup",dn,!1)}}else ln=function(){};var fn=nn({engage:ln,disengage:sn}),mn=void 0,bn=void 0;if(x.is.WEBKIT){var vn=function(e){var t=Mt({context:e.target});!t||t.hasAttribute("tabindex")&&fe(t)||(t.setAttribute("tabindex",0),(window.setImmediate||window.setTimeout)(function(){t.removeAttribute("tabindex")},0))};mn=function(e){e.addEventListener("mousedown",vn,!0),e.addEventListener("touchstart",vn,!0)},bn=function(e){e.removeEventListener("mousedown",vn,!0),e.removeEventListener("touchstart",vn,!0)}}else mn=function(){};var hn={pointerFocusChildren:un,pointerFocusInput:fn,pointerFocusParent:nn({engage:mn,disengage:bn})};function pn(e){for(;e;e=e.parentNode)if("[object ShadowRoot]"===e.toString())return e.host;return null}function gn(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.parent,i=t.element,r=t.includeSelf;if(n)return function(e){var t=pn(e);return Boolean(r&&e===n||t===n||n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY||t&&n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(i)return function(e){var t=pn(i);return Boolean(r&&i===e||t===e||e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY||t&&e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw new TypeError("util/compare-position#getParentComparator required either options.parent or options.element")}function xn(e){function t(t){return i.some(function(e){return t===e})?NodeFilter.FILTER_REJECT:(e=gn({parent:t}),i.some(e)?NodeFilter.FILTER_ACCEPT:(r.push(t),NodeFilter.FILTER_REJECT));var e}var n=e.context,i=e.filter,r=[];t.acceptNode=t;for(var o=f(n).createTreeWalker(n,NodeFilter.SHOW_ELEMENT,t,!1);o.nextNode(););return r}function yn(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.filter;if(n=g({label:"get/insignificant-branches",defaultToDocument:!0,context:n}),!(i=v(i)).length)throw new TypeError("get/insignificant-branches requires valid options.filter");return xn({context:n,filter:i})}var wn={activeElement:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).context,n=f(t),i=void 0;try{i=n.activeElement}catch(e){}return i&&i.nodeType||(i=n.body||n.documentElement),i},activeElements:Kt,focusRedirectTarget:Lt,focusTarget:Mt,insignificantBranches:yn,parents:Le,shadowHostParents:qt,shadowHost:l},En={activeElement:d,disabled:rt,focusRelevant:He,focusable:st,onlyTabbable:at,shadowed:jt,tabbable:wt,validArea:et,validTabindex:fe,visible:ze},Sn=function(e){return e.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};function Tn(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=g({label:"query/shadow-hosts",resolveDocument:!0,defaultToDocument:!0,context:e}),n=f(e).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,Sn,!1),i=[];for(t.shadowRoot&&(i.push(t),i=i.concat(Tn({context:t.shadowRoot})));n.nextNode();)i.push(n.currentNode),i=i.concat(Tn({context:n.currentNode.shadowRoot}));return i}Sn.acceptNode=Sn;var An={childList:!0,subtree:!0},On=(i(Cn,[{key:"disengage",value:function(){this.clientObserver&&this.clientObserver.disconnect(),this.clientObserver=null,this.hostObserver&&this.hostObserver.disconnect(),this.hostObserver=null}},{key:"observeShadowHosts",value:function(e){var t=this;Tn({context:e}).forEach(function(e){return t.observeContext(e.shadowRoot)})}},{key:"observeContext",value:function(e){this.clientObserver.observe(e,this.config),this.hostObserver.observe(e,An)}},{key:"handleHostMutation",value:function(e){"childList"===e.type&&v(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).forEach(this.observeShadowHosts,this)}}]),Cn);function Cn(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.context,i=e.callback,r=e.config;o(this,Cn),this.config=r,this.disengage=this.disengage.bind(this),this.clientObserver=new MutationObserver(i),this.hostObserver=new MutationObserver(function(e){return e.forEach(t.handleHostMutation,t)}),this.observeContext(n),this.observeShadowHosts(n)}function In(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.callback,r=t.config;if("function"!=typeof i)throw new TypeError("observe/shadow-mutations requires options.callback to be a function");if("object"!==(void 0===r?"undefined":a(r)))throw new TypeError("observe/shadow-mutations requires options.config to be an object");if(!window.MutationObserver)return{disengage:function(){}};var o=g({label:"observe/shadow-mutations",resolveDocument:!0,defaultToDocument:!0,context:n});return{disengage:new On({context:o,callback:i,config:r}).disengage}}function Nn(e){return Ne(e,!1)}var Ln={attributes:!0,childList:!0,subtree:!0,attributeFilter:["tabindex","disabled","data-ally-disabled"]},Mn=(i(kn,[{key:"disengage",value:function(){this._context&&(Nn(this._context),this._inertElementCache.forEach(function(e){return Nn(e)}),this._inertElementCache=null,this._filter=null,this._context=null,this.shadowObserver&&this.shadowObserver.disengage(),this.shadowObserver=null)}},{key:"listQueryFocusable",value:function(e){return e.map(function(e){return vt({context:e,includeContext:!0,strategy:"all"})}).reduce(function(e,t){return e.concat(t)},[])}},{key:"renderInert",value:function(e){var t=this;e.filter(this.filterElements).filter(this.filterParentElements).filter(function(e){return!Ne(e)}).forEach(function(e){t._inertElementCache.push(e),Ne(e,!0)})}},{key:"filterElements",value:function(e){var t=gn({element:e,includeSelf:!0});return!this._filter.some(t)}},{key:"filterParentElements",value:function(e){var t=gn({parent:e});return!this._filter.some(t)}},{key:"handleMutation",value:function(e){if("childList"===e.type){var t=v(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE});if(!t.length)return;var n=this.listQueryFocusable(t);this.renderInert(n)}else"attributes"===e.type&&this.renderInert([e.target])}}]),kn);function kn(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.context,i=e.filter;o(this,kn),this._context=v(n||document.documentElement)[0],this._filter=v(i),this._inertElementCache=[],this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.renderInert=this.renderInert.bind(this),this.filterElements=this.filterElements.bind(this),this.filterParentElements=this.filterParentElements.bind(this);var r=vt({context:this._context,includeContext:!0,strategy:"all"});this.renderInert(r),this.shadowObserver=In({context:this._context,config:Ln,callback:function(e){return e.forEach(t.handleMutation)}})}function _n(e){Te({element:e,attribute:"aria-hidden",temporaryValue:"true"})}function Pn(e){Te({element:e,attribute:"aria-hidden"})}var Fn={attributes:!1,childList:!0,subtree:!0},Dn=(i(Bn,[{key:"disengage",value:function(){this._context&&([].forEach.call(this._context.querySelectorAll("[data-cached-aria-hidden]"),Pn),this._context=null,this._filter=null,this._observer&&this._observer.disconnect(),this._observer=null)}},{key:"startObserver",value:function(){var t=this;window.MutationObserver&&(this._observer=new MutationObserver(function(e){return e.forEach(t.handleMutation)}),this._observer.observe(this._context,Fn))}},{key:"handleMutation",value:function(e){"childList"===e.type&&v(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).filter(this.isInsignificantBranch).forEach(_n)}},{key:"isInsignificantBranch",value:function(e){if(Le({context:e}).some(function(e){return"true"===e.getAttribute("aria-hidden")}))return!1;var t=gn({element:e});return!this._filter.some(t)}}]),Bn);function Bn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.filter;o(this,Bn),this._context=v(t||document.documentElement)[0],this._filter=v(n),this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.isInsignificantBranch=this.isInsignificantBranch.bind(this),yn({context:this._context,filter:this._filter}).forEach(_n),this.startObserver()}var Rn=(i(Wn,[{key:"getAreasFor",value:function(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}},{key:"addMapByName",value:function(e){var t=Je(e,this._document);t&&(this.maps[t.name]=Et({context:t}))}},{key:"extractAreasFromList",value:function(e){return e.filter(function(e){if("area"!==e.nodeName.toLowerCase())return!0;var t=e.parentNode;return this.maps[t.name]||(this.maps[t.name]=[]),this.maps[t.name].push(e),!1},this)}}]),Wn);function Wn(e){o(this,Wn),this._document=f(e),this.maps={}}var Hn=(i(jn,[{key:"_registerHost",value:function(e){if(!e._sortingId){e._sortingId="shadow-"+this.hostCounter++,this.hosts[e._sortingId]=e;var t=l({context:e});t?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e)}}},{key:"_registerHostParent",value:function(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}},{key:"_registerElement",value:function(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}},{key:"extractElements",value:function(e){return e.filter(function(e){var t=l({context:e});return!t||(this._registerHost(t),this._registerElement(e,t),!1)},this)}},{key:"sort",value:function(e){var t=this._injectHosts(e);return t=this._replaceHosts(t),this._cleanup(),t}},{key:"_injectHosts",value:function(e){return Object.keys(this.hosts).forEach(function(e){var t=this.elements[e],n=this.inHost[e],i=this.hosts[e].shadowRoot;this.elements[e]=this._merge(t,n,i)},this),this._merge(e,this.inDocument,this.context)}},{key:"_merge",value:function(e,t,n){var i=At({list:e,elements:t});return this.sortElements(i,n)}},{key:"_replaceHosts",value:function(e){return At({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}},{key:"_resolveHostElement",value:function(e){var t=At({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),n=xe(e);return null!==n&&-1<n?[e].concat(t):t}},{key:"_cleanup",value:function(){Object.keys(this.hosts).forEach(function(e){delete this.hosts[e]._sortingId},this)}}]),jn);function jn(e,t){o(this,jn),this.context=e,this.sortElements=t,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}var qn=void 0;function Gn(e,t){var n,i,r,o,a,u,l,s;return qn.tabsequenceAreaAtImgPosition&&(n=e,r=(i=t).querySelectorAll("img[usemap]"),o=new Rn(i),a=o.extractAreasFromList(n),e=r.length?At({list:a,elements:r,resolveElement:function(e){var t=e.getAttribute("usemap").slice(1);return o.getAreasFor(t)}}):a),u={},l=[],s=e.filter(function(e){var t=e.tabIndex;return void 0===t&&(t=xe(e)),t<=0||null==t||(u[t]||(u[t]=[],l.push(t)),u[t].push(e),!1)}),e=l.sort().map(function(e){return u[e]}).reduceRight(function(e,t){return t.concat(e)},s)}for(var Kn=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.includeContext,r=t.includeOnlyTabbable,o=t.strategy;qn=qn||de();var a,u,l,s,c,d,f,m=v(n)[0]||document.documentElement,b=Et({context:m,includeContext:i,includeOnlyTabbable:r,strategy:o});return b=document.body.createShadowRoot&&x.is.BLINK?(a=b,l=new Hn(m,u=Gn),(s=l.extractElements(a)).length===a.length?u(a):l.sort(s)):Gn(b,m),i&&(d=m,b=0<(f=(c=b).indexOf(d))?c.splice(f,1).concat(c):c),b},Vn={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,delete:46,backspace:8,_alias:{91:[92,93,224]}},Zn=1;Zn<26;Zn++)Vn["f"+Zn]=Zn+111;for(var $n=0;$n<10;$n++){var Un=$n+48,Xn=$n+96;Vn[$n]=Un,Vn["num-"+$n]=Xn,Vn._alias[Un]=[Xn]}for(var zn=0;zn<26;zn++){var Jn=zn+65,Qn=String.fromCharCode(Jn).toLowerCase();Vn[Qn]=Jn}var Yn={alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ei=Object.keys(Yn).map(function(e){return Yn[e]});function ti(e){return e.split(/\s+/).map(function(e){var t,n,i,r,o=e.split("+"),a=(t=o.slice(0,-1),i=-1!==t.indexOf("*"),r={altKey:n=!!i&&null,ctrlKey:n,metaKey:n,shiftKey:n},t.forEach(function(e){if("*"!==e){var t=!0,n=e.slice(0,1);"?"===n?t=null:"!"===n&&(t=!1),!0!==t&&(e=e.slice(1));var i=Yn[e];if(!i)throw new TypeError('Unknown modifier "'+e+'"');r[i]=t}}),r);return{keyCodes:function(e){var t=Vn[e]||parseInt(e,10);if(!t||"number"!=typeof t||isNaN(t))throw new TypeError('Unknown key "'+e+'"');return[t].concat(Vn._alias[t]||[])}(o.slice(-1)),modifiers:a,matchModifiers:function(t,n){return!ei.some(function(e){return"boolean"==typeof t[e]&&Boolean(n[e])!==t[e]})}.bind(null,a)}})}function ni(e){var n=0<arguments.length&&void 0!==e?e:{},i={},r=v(n.context)[0]||document.documentElement;delete n.context;var o=v(n.filter);delete n.filter;var t=Object.keys(n);if(!t.length)throw new TypeError("when/key requires at least one option key");function a(t){t.keyCodes.forEach(function(e){i[e]||(i[e]=[]),i[e].push(t)})}function u(t){if(!t.defaultPrevented){if(o.length){var e=gn({element:t.target,includeSelf:!0});if(o.some(e))return}var n=t.keyCode||t.which;i[n]&&i[n].forEach(function(e){e.matchModifiers(t)&&e.callback.call(r,t,l)})}}t.forEach(function(t){if("function"!=typeof n[t])throw new TypeError('when/key requires option["'+t+'"] to be a function');ti(t).map(function(e){return e.callback=n[t],e}).forEach(a)}),r.addEventListener("keydown",u,!1);var l=function(){r.removeEventListener("keydown",u,!1)};return{disengage:l}}var ii={disabled:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.filter;return{disengage:new Mn({context:n,filter:i}).disengage}},hidden:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.filter;return{disengage:new Dn({context:n,filter:i}).disengage}},tabFocus:function(e){var u=(0<arguments.length&&void 0!==e?e:{}).context;return u=u||document.documentElement,Kn(),ni({"?alt+?shift+tab":function(e){e.preventDefault();var t=Kn({context:u}),n=e.shiftKey,i=t[0],r=t[t.length-1],o=n?r:i;if(d(n?i:r))o.focus();else{var a=void 0;if(t.some(function(e,t){return!!d(e)&&(a=t,!0)}))t[a+(n?-1:1)].focus();else i.focus()}}})}},ri={attribute:{"aria-busy":{default:"false",values:["true","false"]},"aria-checked":{default:void 0,values:["true","false","mixed",void 0]},"aria-disabled":{default:"false",values:["true","false"]},"aria-expanded":{default:void 0,values:["true","false",void 0]},"aria-grabbed":{default:void 0,values:["true","false",void 0]},"aria-hidden":{default:"false",values:["true","false"]},"aria-invalid":{default:"false",values:["true","false","grammar","spelling"]},"aria-pressed":{default:void 0,values:["true","false","mixed",void 0]},"aria-selected":{default:void 0,values:["true","false",void 0]},"aria-atomic":{default:"false",values:["true","false"]},"aria-autocomplete":{default:"none",values:["inline","list","both","none"]},"aria-dropeffect":{default:"none",multiple:!0,values:["copy","move","link","execute","popup","none"]},"aria-haspopup":{default:"false",values:["true","false"]},"aria-live":{default:"off",values:["off","polite","assertive"]},"aria-multiline":{default:"false",values:["true","false"]},"aria-multiselectable":{default:"false",values:["true","false"]},"aria-orientation":{default:"horizontal",values:["vertical","horizontal"]},"aria-readonly":{default:"false",values:["true","false"]},"aria-relevant":{default:"additions text",multiple:!0,values:["additions","removals","text","all"]},"aria-required":{default:"false",values:["true","false"]},"aria-sort":{default:"none",other:!0,values:["ascending","descending","none"]}},keycode:Vn},oi=0,ai=0,ui=["touchstart","pointerdown","MSPointerDown","mousedown"],li=["touchend","touchcancel","pointerup","MSPointerUp","pointercancel","MSPointerCancel","mouseup"];function si(){ai=oi=0}function ci(e){!1!==e.isPrimary&&oi++}function di(e){!1!==e.isPrimary&&(e.touches?oi=e.touches.length:(window.setImmediate||window.setTimeout)(function(){oi=Math.max(oi-1,0)}))}function fi(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return}ai++}function mi(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return}(window.setImmediate||window.setTimeout)(function(){ai=Math.max(ai-1,0)})}function bi(){return{pointer:Boolean(oi),key:Boolean(ai)}}var vi=Bt({engage:function(){return window.addEventListener("blur",si,!1),document.documentElement.addEventListener("keydown",fi,!0),document.documentElement.addEventListener("keyup",mi,!0),ui.forEach(function(e){document.documentElement.addEventListener(e,ci,!0)}),li.forEach(function(e){document.documentElement.addEventListener(e,di,!0)}),{get:bi}},disengage:function(){oi=ai=0,window.removeEventListener("blur",si,!1),document.documentElement.removeEventListener("keydown",fi,!0),document.documentElement.removeEventListener("keyup",mi,!0),ui.forEach(function(e){document.documentElement.removeEventListener(e,ci,!0)}),li.forEach(function(e){document.documentElement.removeEventListener(e,di,!0)})}}),hi={interactionType:vi,shadowMutations:In};function pi(e){return e.hasAttribute("autofocus")}function gi(e){return e.tabIndex<=0}var xi={firstTabbable:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.sequence,r=t.strategy,o=t.ignoreAutofocus,a=t.defaultToContext,u=t.includeOnlyTabbable,l=-1;i||(n=v(n||document.body)[0],i=Et({context:n,includeOnlyTabbable:u,strategy:r})),i.length&&!o&&(l=je(i,pi)),i.length&&-1===l&&(l=je(i,gi));var s=st.rules.except({onlyTabbable:u});return-1===l&&a&&n&&s(n)?n:i[l]||null},focusable:vt,shadowHosts:Tn,tabbable:Et,tabsequence:Kn};function yi(e,t,n){var i,r,o=""===(r=(i=e).getAttribute&&i.getAttribute("class")||"")?[]:r.split(" "),a=o.indexOf(t),u=-1!==a,l=void 0!==n?n:!u;l!==u&&(l||o.splice(a,1),l&&o.push(t),e.setAttribute("class",o.join(" ")))}function wi(e,t){return yi(e,t,!1)}function Ei(e,t){return yi(e,t,!0)}var Si="undefined"!=typeof document&&"onfocusin"in document,Ti=Si?"focusin":"focus",Ai=Si?"focusout":"blur",Oi=void 0,Ci=void 0,Ii=null,Ni=null,Li={pointer:!1,key:!1,script:!1,initial:!1};function Mi(e){var t="";if(e.type===Ti||"shadow-focus"===e.type){var n=Oi.get();t=Ni||n.pointer&&"pointer"||n.key&&"key"||"script"}else"initial"===e.type&&(t="initial");document.documentElement.setAttribute("data-focus-source",t),e.type!==Ai&&(Li[t]||Ei(document.documentElement,"focus-source-"+t),Li[t]=!0,Ii=t)}function ki(){return Ii}function _i(e){return Li[e]}function Pi(e){Ni=e}function Fi(){Ni=!1}var Di=Bt({engage:function(){return Ci=Yt(),document.addEventListener("shadow-focus",Mi,!0),document.documentElement.addEventListener(Ti,Mi,!0),document.documentElement.addEventListener(Ai,Mi,!0),Oi=vi(),Mi({type:"initial"}),{used:_i,current:ki,lock:Pi,unlock:Fi}},disengage:function(){Mi({type:Ai}),Ii=Ni=null,Object.keys(Li).forEach(function(e){wi(document.documentElement,"focus-source-"+e),Li[e]=!1}),Oi.disengage(),Ci&&Ci.disengage(),document.removeEventListener("shadow-focus",Mi,!0),document.documentElement.removeEventListener(Ti,Mi,!0),document.documentElement.removeEventListener(Ai,Mi,!0),document.documentElement.removeAttribute("data-focus-source")}}),Bi=void 0,Ri="undefined"!=typeof document&&"onfocusin"in document,Wi=Ri?"focusin":"focus",Hi=Ri?"focusout":"blur",ji="ally-focus-within",qi=void 0,Gi=void 0,Ki=void 0;function Vi(e){var t=e||Kt();Bi.cssShadowPiercingDeepCombinator||(t=t.slice(-1));var n=[].slice.call(document.querySelectorAll(qi),0),i=t.map(function(e){return Le({context:e})}).reduce(function(e,t){return t.concat(e)},[]);n.forEach(function(e){-1===i.indexOf(e)&&wi(e,ji)}),i.forEach(function(e){-1===n.indexOf(e)&&Ei(e,ji)})}function Zi(){Gi=(window.setImmediate||window.setTimeout)(function(){Vi()})}function $i(){(window.clearImmediate||window.clearTimeout)(Gi),Vi()}function Ui(e){Vi(e.detail.elements)}var Xi=Bt({engage:function(){Bi||(Bi=de(),qi=Ke("."+ji)),Ki=Yt(),document.addEventListener(Hi,Zi,!0),document.addEventListener(Wi,$i,!0),document.addEventListener("shadow-focus",Ui,!0),Vi()},disengage:function(){Ki&&Ki.disengage(),(window.clearImmediate||window.clearTimeout)(Gi),document.removeEventListener(Hi,Zi,!0),document.removeEventListener(Wi,$i,!0),document.removeEventListener("shadow-focus",Ui,!0),[].forEach.call(document.querySelectorAll(qi),function(e){wi(e,ji)})}});function zi(e,t){var n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.max(Math.min(e.right,t.right),i),o=Math.max(Math.min(e.bottom,t.bottom),n);return{top:n,right:r,bottom:o,left:i,width:r-i,height:o-n}}function Ji(e){var t=e.getBoundingClientRect(),n=e.offsetWidth-e.clientWidth,i=e.offsetHeight-e.clientHeight,r={top:t.top,left:t.left,right:t.right-n,bottom:t.bottom-i,width:t.width-n,height:t.height-i,area:0};return r.area=r.width*r.height,r}function Qi(e){return t=e,n=window.getComputedStyle(t,null),i="visible",n.getPropertyValue("overflow-x")!==i&&n.getPropertyValue("overflow-y")!==i&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth);var t,n,i}function Yi(e){var t,n,i=e.getBoundingClientRect(),r=(t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:0,right:t,bottom:n,left:0,width:t,height:n});r.area=r.width*r.height;var o,a=r,u=(o=Le({context:e}).slice(1).filter(Qi)).length?o.reduce(function(e,t){var n=Ji(t),i=zi(n,e);return i.area=Math.min(n.area,e.area),i},Ji(o[0])):null;if(u){if(!u.width||!u.height)return 0;(a=zi(u,r)).area=u.area}var l=zi(i,a);if(!l.width||!l.height)return 0;var s=i.width*i.height,c=Math.min(s,a.area),d=Math.round(l.width)*Math.round(l.height)/c,f=Math.round(1e4*d)/1e4;return Math.min(f,1)}function er(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.callback,r=t.area;if("function"!=typeof i)throw new TypeError("when/visible-area requires options.callback to be a function");function o(){l&&cancelAnimationFrame(l)}function a(){(!ze(u)||Yi(u)<r||!1===i(u)?s:o)()}"number"!=typeof r&&(r=1);var u=g({label:"when/visible-area",context:n}),l=void 0,s=null;return(s=function(){l=requestAnimationFrame(a)})(),{disengage:o}}var tr="undefined"!=typeof window&&window.ally,nr={element:_t,event:en,fix:hn,get:wn,is:En,maintain:ii,map:ri,observe:hi,query:xi,style:{focusSource:Di,focusWithin:Xi},when:{focusable:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.context,i=t.callback,r=t.area;if("function"!=typeof i)throw new TypeError("when/focusable requires options.callback to be a function");function o(){u.removeEventListener("focus",o,!0),l&&l.disengage()}var a=g({label:"when/focusable",context:n}),u=f(a),l=er({context:a,callback:function(e){return!!st(e)&&i(e)},area:r});return u.addEventListener("focus",o,!0),{disengage:o}},key:ni,visibleArea:er},version:L,noConflict:function(){return"undefined"!=typeof window&&window.ally===this&&(window.ally=tr),this}};t.exports=nr},{"css.escape":2,platform:3}],2:[function(e,i,r){(function(e){var t,n;t=void 0!==e?e:this,n=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;function t(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,r=-1,o="",a=n.charCodeAt(0);++r<i;)0!=(t=n.charCodeAt(r))?o+=1<=t&&t<=31||127==t||0==r&&48<=t&&t<=57||1==r&&48<=t&&t<=57&&45==a?"\\"+t.toString(16)+" ":(0!=r||1!=i||45!=t)&&(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?n.charAt(r):"\\"+n.charAt(r):o+="";return o}return e.CSS||(e.CSS={}),e.CSS.escape=t},"object"==typeof r?i.exports=n(t):n(t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,c,d){(function(s){(function(){"use strict";var e={function:!0,object:!0},P=e[typeof window]&&window||this,F=P,n=e[typeof d]&&d,t=e[typeof c]&&c&&!c.nodeType&&c,i=n&&t&&"object"==typeof s&&s;!i||i.global!==i&&i.window!==i&&i.self!==i||(P=i);var o=Math.pow(2,53)-1,D=/\bOpera/,B=this,r=Object.prototype,a=r.hasOwnProperty,R=r.toString;function u(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function W(e){return e=V(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:u(e)}function H(e,t){for(var n in e)a.call(e,n)&&t(e[n],n,e)}function j(e){return null==e?u(e):R.call(e).slice(8,-1)}function q(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||e[t])}function G(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function K(n,i){var r=null;return function(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&-1<i&&i<=o)for(;++n<i;)t(e[n],n,e);else H(e,t)}(n,function(e,t){r=i(r,e,t,n)}),r}function V(e){return String(e).replace(/^ +| +$/g,"")}var l=function e(u){var t=P,n=u&&"object"==typeof u&&"String"!=j(u);n&&(t=u,u=null);var i=t.navigator||{},r=i.userAgent||"";u=u||r;var o,a,l=n||B==F,s=n?!!i.likeChrome:/\bChrome\b/.test(u)&&!/internal|\n/i.test(R.toString()),c="Object",d=n?c:"ScriptBridgingProxyObject",f=n?c:"Environment",m=n&&t.java?"JavaPackage":j(t.java),b=n?c:"RuntimeObject",v=/\bJava/.test(m)&&t.java,h=v&&j(t.environment)==f,p=v?"a":"",g=v?"b":"",x=t.document||{},y=t.operamini||t.opera,w=D.test(w=n&&y?y["[[Class]]"]:j(y))?w:y=null,E=u,S=[],T=null,A=u==r,O=A&&y&&"function"==typeof y.version&&y.version(),C=K([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||G(t))+"\\b","i").exec(u)&&(t.label||t)}),I=K(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||G(t))+"\\b","i").exec(u)&&(t.label||t)}),N=k([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),L=K({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}},function(e,t,n){return e||(t[N]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(N)]||RegExp("\\b"+G(n)+"(?:\\b|\\w*\\d)","i").exec(u))&&n}),M=K(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n,i,r,o,a=t.pattern||G(t);return!e&&(e=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(u))&&(n=e,i=a,r=t.label||t,o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},i&&r&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(o=o[/[\d.]+$/.exec(n)])&&(n="Windows "+o),n=String(n),i&&r&&(n=n.replace(RegExp(i,"i"),r)),e=n=W(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function k(e){return K(e,function(e,t){var n=t.pattern||G(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(u)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(u))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=W(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(C=C&&[C],L&&!N&&(N=k([L])),(o=/\bGoogle TV\b/.exec(N))&&(N=o[0]),/\bSimulator\b/i.test(u)&&(N=(N?N+" ":"")+"Simulator"),"Opera Mini"==I&&/\bOPiOS\b/.test(u)&&S.push("running in Turbo/Uncompressed mode"),"IE"==I&&/\blike iPhone OS\b/.test(u)?(L=(o=e(u.replace(/like iPhone OS/,""))).manufacturer,N=o.product):/^iP/.test(N)?(I=I||"Safari",M="iOS"+((o=/ OS ([\d_]+)/i.exec(u))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"!=I||/buntu/i.test(M)?L&&"Google"!=L&&(/Chrome/.test(I)&&!/\bMobile Safari\b/i.test(u)||/\bVita\b/.test(N))||/\bAndroid\b/.test(M)&&/^Chrome/.test(I)&&/\bVersion\//i.test(u)?(I="Android Browser",M=/\bAndroid\b/.test(M)?M:"Android"):"Silk"==I?(/\bMobi/i.test(u)||(M="Android",S.unshift("desktop mode")),/Accelerated *= *true/i.test(u)&&S.unshift("accelerated")):"PaleMoon"==I&&(o=/\bFirefox\/([\d.]+)\b/.exec(u))?S.push("identifying as Firefox "+o[1]):"Firefox"==I&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(u))?(M=M||"Firefox OS",N=N||o[1]):I&&!(o=!/\bMinefield\b/i.test(u)&&/\b(?:Firefox|Safari)\b/.exec(I))||(I&&!N&&/[\/,]|^[^(]+?\)/.test(u.slice(u.indexOf(o+"/")+8))&&(I=null),(o=N||L||M)&&(N||L||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(M))&&(I=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(M)?M:o)+" Browser")):M="Kubuntu",O=O||K(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",G(I),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(u)||0)[1]||null}),(o=("iCab"==C&&3<parseFloat(O)?"WebKit":/\bOpera\b/.test(I)&&(/\bOPR\b/.test(u)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(u)&&!/^(?:Trident|EdgeHTML)$/.test(C)&&"WebKit"||!C&&/\bMSIE\b/i.test(u)&&("Mac OS"==M?"Tasman":"Trident")||"WebKit"==C&&/\bPlayStation\b(?! Vita\b)/i.test(I)&&"NetFront")&&(C=[o]),"IE"==I&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(u)||0)[1])?(I+=" Mobile",M="Windows Phone "+(/\+$/.test(o)?o:o+".x"),S.unshift("desktop mode")):/\bWPDesktop\b/i.test(u)?(I="IE Mobile",M="Windows Phone 8.x",S.unshift("desktop mode"),O=O||(/\brv:([\d.]+)/.exec(u)||0)[1]):"IE"!=I&&"Trident"==C&&(o=/\brv:([\d.]+)/.exec(u))&&(I&&S.push("identifying as "+I+(O?" "+O:"")),I="IE",O=o[1]),A){if(q(t,"global"))if(v&&(E=(o=v.lang.System).getProperty("os.arch"),M=M||o.getProperty("os.name")+" "+o.getProperty("os.version")),l&&q(t,"system")&&(o=[t.system])[0]){M=M||o[0].os||null;try{o[1]=t.require("ringo/engine").version,O=o[1].join("."),I="RingoJS"}catch(e){o[0].global.system==t.system&&(I="Narwhal")}}else"object"==typeof t.process&&!t.process.browser&&(o=t.process)?(I="Node.js",E=o.arch,M=o.platform,O=/[\d.]+/.exec(o.version)[0]):h&&(I="Rhino");else j(o=t.runtime)==d?(I="Adobe AIR",M=o.flash.system.Capabilities.os):j(o=t.phantom)==b?(I="PhantomJS",O=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof x.documentMode&&(o=/\bTrident\/(\d+)/i.exec(u))&&(O=[O,x.documentMode],(o=+o[1]+4)!=O[1]&&(S.push("IE "+O[1]+" mode"),C&&(C[1]=""),O[1]=o),O="IE"==I?String(O[1].toFixed(1)):O[0]);M=M&&W(M)}O&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(O)||/(?:alpha|beta)(?: ?\d)?/i.exec(u+";"+(A&&i.appMinorVersion))||/\bMinefield\b/i.test(u)&&"a")&&(T=/b/i.test(o)?"beta":"alpha",O=O.replace(RegExp(o+"\\+?$"),"")+("beta"==T?g:p)+(/\d+\+?/.exec(o)||"")),"Fennec"==I||"Firefox"==I&&/\b(?:Android|Firefox OS)\b/.test(M)?I="Firefox Mobile":"Maxthon"==I&&O?O=O.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(N)?(M=null,"Xbox 360"==N&&/\bIEMobile\b/.test(u)&&S.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(I)&&(!I||N||/Browser|Mobi/.test(I))||"Windows CE"!=M&&!/Mobi/i.test(u)?"IE"==I&&A&&null===t.external?S.unshift("platform preview"):(/\bBlackBerry\b/.test(N)||/\bBB10\b/.test(u))&&(o=(RegExp(N.replace(/ +/g," *")+"/([.\\d]+)","i").exec(u)||0)[1]||O)?(M=((o=[o,/BB10/.test(u)])[1]?(N=null,L="BlackBerry"):"Device Software")+" "+o[0],O=null):this!=H&&"Wii"!=N&&(A&&y||/Opera/.test(I)&&/\b(?:MSIE|Firefox)\b/i.test(u)||"Firefox"==I&&/\bOS X (?:\d+\.){2,}/.test(M)||"IE"==I&&(M&&!/^Win/.test(M)&&5.5<O||/\bWindows XP\b/.test(M)&&8<O||8==O&&!/\bTrident\b/.test(u)))&&!D.test(o=e.call(H,u.replace(D,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),D.test(I)?(/\bIE\b/.test(o)&&"Mac OS"==M&&(M=null),o="identify"+o):(o="mask"+o,I=w?W(w.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(M=null),A||(O=null)),C=["Presto"],S.push(o)):I+=" Mobile",(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(u)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==I&&"+"==o[1].slice(-1)?(I="WebKit Nightly",T="alpha",O=o[1].slice(0,-1)):O!=o[1]&&O!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(u)||0)[1])||(O=null),o[1]=(/\bChrome\/([\d.]+)/i.exec(u)||0)[1],537.36==o[0]&&537.36==o[2]&&28<=parseFloat(o[1])&&"WebKit"==C&&(C=["Blink"]),o=A&&(s||o[1])?(C&&(C[1]="like Chrome"),o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=C?"27":"28")):(C&&(C[1]="like Safari"),(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:"8"),C&&(C[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==I&&(!O||45<parseInt(O))&&(O=o)),"Opera"==I&&(o=/\bzbov|zvav$/.exec(M))?(I+=" ",S.unshift("desktop mode"),"zvav"==o?(I+="Mini",O=null):I+="Mobile",M=M.replace(RegExp(" *"+o+"$"),"")):"Safari"==I&&/\bChrome\b/.exec(C&&C[1])&&(S.unshift("desktop mode"),I="Chrome Mobile",O=null,M=/\bOS X\b/.test(M)?(L="Apple","iOS 4.3+"):null),O&&0==O.indexOf(o=/[\d.]+$/.exec(M))&&-1<u.indexOf("/"+o+"-")&&(M=V(M.replace(o,""))),C&&!/\b(?:Avant|Nook)\b/.test(I)&&(/Browser|Lunascape|Maxthon/.test(I)||"Safari"!=I&&/^iOS/.test(M)&&/\bSafari\b/.test(C[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(I)&&C[1])&&(o=C[C.length-1])&&S.push(o),S.length&&(S=["("+S.join("; ")+")"]),L&&N&&N.indexOf(L)<0&&S.push("on "+L),N&&S.push((/^on /.test(S[S.length-1])?"":"on ")+N),M&&(o=/ ([\d.+]+)$/.exec(M),a=o&&"/"==M.charAt(M.length-o[0].length-1),M={architecture:32,family:o&&!a?M.replace(o[0],""):M,version:o?o[1]:null,toString:function(){var e=this.version;return this.family+(e&&!a?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(E))&&!/\bi686\b/i.test(E)?(M&&(M.architecture=64,M.family=M.family.replace(RegExp(" *"+o),"")),I&&(/\bWOW64\b/i.test(u)||A&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(u))&&S.unshift("32-bit")):M&&/^OS X/.test(M.family)&&"Chrome"==I&&39<=parseFloat(O)&&(M.architecture=64),u=u||null;var _={};return _.description=u,_.layout=C&&C[0],_.manufacturer=L,_.name=I,_.prerelease=T,_.product=N,_.ua=u,_.version=I&&O,_.os=M||{architecture:null,family:null,version:null,toString:function(){return"null"}},_.parse=e,_.toString=function(){return this.description||""},_.version&&S.unshift(O),_.name&&S.unshift(I),M&&I&&(M!=String(M).split(" ")[0]||M!=I.split(" ")[0]&&!N)&&S.push(N?"("+M+")":"on "+M),S.length&&(_.description=S.join(" ")),_}();n&&t?H(l,function(e,t){n[t]=e}):P.platform=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});